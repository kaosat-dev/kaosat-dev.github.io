<head>
 <style>
   textarea{
     background: lightblue;
   }
   #mainDynamicModule{
     width: 50%;
     height: 200px;
   }
   #secondDynamicModule{
     width: 50%;
     height: 200px;
   }

   #createModule{
     background: indigo;
     color: white;
   } 
 </style>
</head>

<body>
    <script type="module">
      // const worker = new Worker('worker-test.js', {type:"module"})
    </script>
  <script type="module" src="./index.js"></script>
  <button id="createModule">create & load modules</button>
  <div>mainDynamicModule (main.js)</div>
  <textarea id="mainDynamicModule">
    import {cube, union} from '@jscad/core'
    import {foo} from '../foo.js'
    import culu from '/zborg/other.js'

    const main = () => {
      foo()
      console.log('from other modules', culu, cube(), union())
      import('/zborg/other.js').then(x=> console.log('dynamic import', x))
    }
    export {main}
  </textarea>
  

  <div>secondDynamicModule (other.js)</div>
  <textarea id="secondDynamicModule">
      export default 42
  </textarea>
  <div id="consoleOut"></div>
  
</body>